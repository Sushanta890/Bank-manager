<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SK Bank ‚Äî Login</title>
  <style>
    :root{--accent:#0066cc;--bg:#f3f6fb}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:var(--bg);
          display:flex;align-items:center;justify-content:center;min-height:100vh}
    .card{background:#fff;border-radius:12px;padding:22px;width:350px;
          box-shadow:0 8px 25px rgba(13,38,76,0.08)}
    h2{text-align:center;margin:0 0 18px}
    label{display:block;margin:8px 0 4px;font-size:14px}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid #e2e8f0}
    .actions{display:flex;justify-content:space-between;margin-top:14px}
    button{padding:10px 14px;border:0;border-radius:8px;cursor:pointer;color:#fff;background:var(--accent)}
    .ghost{background:#eef6ff;color:var(--accent)}
    .msg{margin-top:10px;font-size:14px;text-align:center}
  </style>
</head>
<body>
  <div class="card fade-in">
    <h2>üè¶ SK Bank Login</h2>
    <form id="loginForm" autocomplete="off">
      <label>Account Number</label>
      <input id="accNum" required />

      <label>Password</label>
      <input id="password" type="password" required />

      <div class="actions">
        <button type="submit">Login</button>
        <button type="button" id="registerBtn" class="ghost">Register</button>
      </div>
    </form>
    <div id="msg" class="msg"></div>
  </div>

  <script>
    const STORAGE_KEY = 'skbank_accounts_v1';
    const loadAccounts = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    const saveAccounts = (a) => localStorage.setItem(STORAGE_KEY, JSON.stringify(a));

    // Login
    document.getElementById('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      const acc = document.getElementById('accNum').value.trim();
      const pass = document.getElementById('password').value.trim();
      const users = loadAccounts();
      const found = users.find(u => u.accNum === acc && u.password === pass);

      if (!found) {
        document.getElementById('msg').innerHTML = `<div style="color:red;">‚ùå Invalid account or password</div>`;
        return;
      }
      // Save session
      localStorage.setItem('skbank_loggedIn', acc);
      document.getElementById('msg').innerHTML = `<div style="color:green;">‚úÖ Login successful!</div>`;
      setTimeout(()=> location.href = 'Cash.html', 800);
    });

    // Register
    document.getElementById('registerBtn').addEventListener('click', ()=>{
      const fname = prompt("First Name:");
      if(!fname) return;
      const lname = prompt("Last Name:") || '';
      const mobile = prompt("Mobile Number (10 digits):");
      if(!/^\d{10}$/.test(mobile)) return alert("Invalid mobile number");
      const email = prompt("Email:") || '';
      const pass = prompt("Create Password (min 4 chars):");
      if(!pass || pass.length < 4) return alert("Password too short");
      const accNum = 'AC' + Date.now().toString().slice(-6);
      const custId = 'SK' + Math.floor(10000000 + Math.random()*90000000);
      const accounts = loadAccounts();
      const rec = { fname, lname, mobile, email, accNum, custId, password:pass, balance:0, createdAt:new Date().toISOString() };
      accounts.push(rec); saveAccounts(accounts);
      alert(`Registered successfully!\nAccount No: ${accNum}\nCustomer ID: ${custId}`);
    });
  </script>
</body>
</html>
